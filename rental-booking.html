<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mason Rentals | Booking</title>
    <link rel="icon" type="image/jpeg" href="images/favicon.jpg">
    <link rel="stylesheet" href="css/rental.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Sora:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body class="rental-body booking-page">
    <header class="rental-header">
        <div class="rental-container">
            <div class="rental-nav">
                <a class="rental-logo" href="rental.html">
                    <img src="images/rental/logo.png" alt="Mason Rentals">
                    <span class="rental-logo__text">MASON RENTALS</span>
                </a>
                <nav class="rental-links">
                    <a href="rental.html#booking">Book</a>
                    <a href="rental.html#fleet">Fleet</a>
                </nav>
            </div>
        </div>
    </header>

    <main>
        <section class="booking-hero">
            <div class="rental-container booking-hero__grid">
                <div class="booking-hero__intro">
                    <h1>Reserve your ride</h1>
                    <p>Complete the form to request your booking. We will confirm availability within minutes.</p>
                    <div class="booking-switch">
                        <button class="booking-switch__btn" data-target="toyota" type="button">Toyota Aqua</button>
                        <button class="booking-switch__btn" data-target="nissan" type="button">Nissan Sylphy</button>
                    </div>
                    <div class="booking-preview">
                        <img class="booking-preview__img booking-preview__img--toyota is-active" src="images/rental/car1.png" alt="Toyota Aqua">
                        <img class="booking-preview__img booking-preview__img--nissan" src="images/rental/car2.png" alt="Nissan Sylphy">
                    </div>
                </div>
                <form class="booking-form">
                    <label>
                        Pick-up location (Jamaica)
                        <input type="text" list="jamaica-parishes" placeholder="Select parish">
                    </label>
                    <label>
                        Pick-up date
                        <input type="date">
                    </label>
                    <label>
                        Pick-up time
                        <select>
                            <option value="" disabled selected>Select time</option>
                            <option>08:00 AM</option>
                            <option>09:00 AM</option>
                            <option>10:00 AM</option>
                            <option>11:00 AM</option>
                            <option>12:00 PM</option>
                            <option>01:00 PM</option>
                            <option>02:00 PM</option>
                            <option>03:00 PM</option>
                            <option>04:00 PM</option>
                            <option>05:00 PM</option>
                            <option>06:00 PM</option>
                        </select>
                    </label>
                    <label>
                        Drop-off location
                        <input type="text" placeholder="Same as pick-up">
                    </label>
                    <button type="button" class="booking-form__cta">Request Booking</button>
                </form>
                <datalist id="jamaica-parishes">
                    <option value="Kingston"></option>
                    <option value="St. Andrew"></option>
                    <option value="St. Thomas"></option>
                    <option value="Portland"></option>
                    <option value="St. Mary"></option>
                    <option value="St. Ann"></option>
                    <option value="Trelawny"></option>
                    <option value="St. James"></option>
                    <option value="Hanover"></option>
                    <option value="Westmoreland"></option>
                    <option value="St. Elizabeth"></option>
                    <option value="Manchester"></option>
                    <option value="Clarendon"></option>
                    <option value="St. Catherine"></option>
                </datalist>
            </div>
        </section>

        <section class="booking-details">
            <div class="rental-container">
                <article class="car-detail car-detail--toyota" data-car="toyota">
                    <div class="car-detail__media">
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/1.jpeg" alt="Toyota Aqua front">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/2.jpeg" alt="Toyota Aqua angle">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/3.jpeg" alt="Toyota Aqua side">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/4.jpeg" alt="Toyota Aqua rear">
                        </button>
                    </div>
                    <div class="car-detail__info">
                        <h2>Toyota Aqua</h2>
                        <p>Fuel efficient city hatchback with smooth handling and easy parking.</p>
                        <ul>
                            <li>Seats: 5</li>
                            <li>Transmission: Automatic</li>
                            <li>Luggage: 2 bags</li>
                            <li>Availability: On request</li>
                        </ul>
                        <div class="car-detail__actions">
                        </div>
                    </div>
                </article>

                <article class="car-detail car-detail--nissan" data-car="nissan">
                    <div class="car-detail__media">
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/a1.jpeg" alt="Nissan Sylphy front">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/a2.jpeg" alt="Nissan Sylphy angle">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/a3.jpeg" alt="Nissan Sylphy side">
                        </button>
                        <button class="car-detail__thumb" type="button">
                            <img src="images/rental/a4.jpeg" alt="Nissan Sylphy rear">
                        </button>
                    </div>
                    <div class="car-detail__info">
                        <h2>Nissan Sylphy</h2>
                        <p>Comfortable sedan with a smooth ride and roomy cabin for island travel.</p>
                        <ul>
                            <li>Seats: 5</li>
                            <li>Transmission: Automatic</li>
                            <li>Luggage: 2 bags</li>
                            <li>Availability: On request</li>
                        </ul>
                        <div class="car-detail__actions">
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <div class="car-modal" id="carModal" aria-hidden="true">
        <div class="car-modal__overlay" data-modal-close></div>
        <div class="car-modal__dialog" role="dialog" aria-modal="true" aria-label="Car image">
            <button class="car-modal__close" type="button" data-modal-close aria-label="Close">&times;</button>
            <img class="car-modal__image" src="" alt="">
        </div>
    </div>

    <footer class="rental-footer">
        <div class="rental-container rental-footer__grid">
            <div>
                <img src="images/rental/logo.png" alt="Mason Rentals">
                <p>Premium rentals backed by the Kingz of Twinz experience.</p>
            </div>
            <div>
                <h4>Support</h4>
                <p>Bookings@kingzoftwinz.com</p>
                <p>+1 (876) 817-5209</p>
            </div>
            <div>
                <h4>Office</h4>
                <p>Kingston, Jamaica</p>
                <p>Mon-Fri: 9am - 6pm</p>
            </div>
        </div>
    </footer>

    <script>
        const cards = Array.from(document.querySelectorAll('.car-detail'));
        const buttons = Array.from(document.querySelectorAll('.booking-switch__btn'));

        const setActiveCar = (name) => {
            cards.forEach(card => {
                card.classList.toggle('is-active', card.dataset.car === name);
            });
            buttons.forEach(btn => {
                btn.classList.toggle('is-active', btn.dataset.target === name);
            });
            const previews = document.querySelectorAll('.booking-preview__img');
            previews.forEach(img => {
                img.classList.toggle('is-active', img.classList.contains(`booking-preview__img--${name}`));
            });
        };

        const getCarFromHash = () => {
            const hash = window.location.hash.replace('#', '');
            return hash === 'nissan' ? 'nissan' : 'toyota';
        };

        setActiveCar(getCarFromHash());
        window.addEventListener('hashchange', () => setActiveCar(getCarFromHash()));

        buttons.forEach(btn => {
            btn.addEventListener('click', () => {
                window.location.hash = btn.dataset.target;
            });
        });

        const modal = document.getElementById('carModal');
        const modalImage = modal?.querySelector('.car-modal__image');
        const closeTriggers = modal?.querySelectorAll('[data-modal-close]') || [];

        const openModal = (src, alt) => {
            if (!modal || !modalImage) return;
            modalImage.src = src;
            modalImage.alt = alt || 'Car image';
            modal.classList.add('is-open');
            modal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = 'hidden';
        };

        const closeModal = () => {
            if (!modal) return;
            modal.classList.remove('is-open');
            modal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
            if (modalImage) {
                modalImage.src = '';
                modalImage.alt = '';
            }
        };

        document.querySelectorAll('.car-detail__thumb img').forEach(img => {
            img.addEventListener('click', () => openModal(img.src, img.alt));
        });

        closeTriggers.forEach(trigger => trigger.addEventListener('click', closeModal));
        window.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && modal?.classList.contains('is-open')) {
                closeModal();
            }
        });
    </script>
</body>
</html>
